game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessedEvent)
    if gameProcessedEvent then
        return 
    end
   

local function getNearestPlayer()
    local closestPlayer = nil
    local shortestDistance = radius

    for _, otherPlayer in pairs(game.Players:GetPlayers()) do
        if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
            local otherChar = otherPlayer.Character
            local otherHRP = otherChar.HumanoidRootPart

            local myHRP = character:FindFirstChild("HumanoidRootPart")
            if myHRP then
                local distance = (myHRP.Position - otherHRP.Position).Magnitude
                if distance < shortestDistance then
                    shortestDistance = distance
                    closestPlayer = otherPlayer
                end
            end
        end
    end

    return closestPlayer, shortestDistance
end

    if input.KeyCode == Enum.KeyCode.One then
local args = {
    [1] = game:GetService("Players").LocalPlayer
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Chop"):FireServer(unpack(args))

function getNil(name, class)
    for _, v in next, getnilinstances() do
        if v.ClassName == class and v.Name == name then
            return v
        end
    end
end

function getNearestPlayer()
    local closestPlayer = nil
    local shortestDistance = math.huge
    local character = game:GetService("Players").LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        local humanoidRootPart = character.HumanoidRootPart
        for _, player in pairs(game:GetService("Players"):GetPlayers()) do
            if player ~= game:GetService("Players").LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local playerHumanoidRootPart = player.Character.HumanoidRootPart
                local distance = (humanoidRootPart.Position - playerHumanoidRootPart.Position).Magnitude
                if distance < shortestDistance then
                    closestPlayer = player
                    shortestDistance = distance
                end
            end
        end
    end
    return closestPlayer
end

local nearestPlayer = getNearestPlayer()

-- Check if we found a nearest player
if nearestPlayer then
   local args = {
    [1] = workspace:FindFirstChild(nearestPlayer.Name)
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("DarthVader"):WaitForChild("Remotes"):WaitForChild("Bash2"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("DarthVader"):WaitForChild("Remotes"):WaitForChild("Bash2"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("DarthVader"):WaitForChild("Remotes"):WaitForChild("Bash2"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("DarthVader"):WaitForChild("Remotes"):WaitForChild("Bash2"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("DarthVader"):WaitForChild("Remotes"):WaitForChild("Bash2"):FireServer(unpack(args))




else
    print("No valid target found")
end



elseif input.KeyCode == Enum.KeyCode.Two then
local args = {
    [1] = game:GetService("Players").LocalPlayer
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Clap"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Clap"):FireServer(unpack(args))




elseif input.KeyCode == Enum.KeyCode.Three then
local args = {
    [1] = game:GetService("Players").LocalPlayer
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Slamdown"):FireServer(unpack(args))

elseif input.KeyCode == Enum.KeyCode.Four then
local args = {
    [1] = game:GetService("Players").LocalPlayer
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Spike"):FireServer(unpack(args))



function getNil(name, class)
    for _, v in next, getnilinstances() do
        if v.ClassName == class and v.Name == name then
            return v
        end
    end
end

function getNearestPlayer()
    local closestPlayer = nil
    local shortestDistance = math.huge
    local character = game:GetService("Players").LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        local humanoidRootPart = character.HumanoidRootPart
        for _, player in pairs(game:GetService("Players"):GetPlayers()) do
            if player ~= game:GetService("Players").LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local playerHumanoidRootPart = player.Character.HumanoidRootPart
                local distance = (humanoidRootPart.Position - playerHumanoidRootPart.Position).Magnitude
                if distance < shortestDistance then
                    closestPlayer = player
                    shortestDistance = distance
                end
            end
        end
    end
    return closestPlayer
end

local nearestPlayer = getNearestPlayer()

-- Check if we found a nearest player
if nearestPlayer then
   local args = {
    [1] = workspace:FindFirstChild(nearestPlayer.Name)
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("SpikeHit"):FireServer(unpack(args))



else
    print("No valid target found")
end


elseif input.KeyCode == Enum.KeyCode.Five then
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Finisher"):FireServer()

elseif input.KeyCode == Enum.KeyCode.F then
local args = {
    [1] = game:GetService("Players").LocalPlayer
}

game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("Combat"):WaitForChild("Remotes"):WaitForChild("Blocking"):FireServer(unpack(args))

elseif input.KeyCode == Enum.KeyCode.G then
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local Debris = game:GetService("Debris")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local plr = Players.LocalPlayer
local char = plr.Character
local rootPart = char:WaitForChild("HumanoidRootPart")
local humanoid = char:WaitForChild("Humanoid")

-- Animation setup
local anim1 = Instance.new("Animation")
anim1.AnimationId = "rbxassetid://15546807765"
local animTrack1 = humanoid:WaitForChild("Animator"):LoadAnimation(anim1)
animTrack1:Play()

-- Movement setup
local Velocity = Instance.new("BodyVelocity")
Velocity.Parent = rootPart
Velocity.P = 5500
Velocity.MaxForce = Vector3.new(1000000, 0, 1000000) -- Only apply force on X and Z axes
Velocity.Velocity = rootPart.CFrame.lookVector * 80 -- Speed set to 80
Debris:AddItem(Velocity, 0.5)

-- Camera effect
TweenService:Create(game.Workspace.CurrentCamera, TweenInfo.new(0.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
    FieldOfView = 85
}):Play()

-- Hitbox setup
local Hitbox = game.ReplicatedStorage.Characters.Combat.Fx.CombatHitbox
local CloneHitbox = Hitbox:Clone()
CloneHitbox.Parent = char
local Weld = Instance.new("Weld", CloneHitbox)
Weld.Part0 = CloneHitbox
Weld.Part1 = rootPart
Weld.C0 = CFrame.new(0, 0, 3.5) * CFrame.Angles(0, 0, 0)
Debris:AddItem(CloneHitbox, 0.5)

-- Touched event for Hitbox
CloneHitbox.Touched:Connect(function(hit)
    local Parent = hit.Parent
    local Humanoid = Parent:FindFirstChild("Humanoid")
    if Humanoid and Humanoid.Health ~= 0 then
        local Values = Parent:FindFirstChild("Values")
        if Values and (Values.TeamColor.Value ~= char:FindFirstChild("Values").TeamColor.Value or Values.TeamColor.Value == game.ReplicatedStorage.FFAColor.Value) then
            for i = 1, 10 do
                game.ReplicatedStorage.Characters.MrFantastic.Remotes.StretchPunchHit:FireServer(Parent)
            end
            game.ReplicatedStorage.Characters.Combat.Remotes.ComboEndRemote:FireServer(Parent)
            TweenService:Create(game.Workspace.CurrentCamera, TweenInfo.new(0.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
                FieldOfView = 70
            }):Play()
        end
    end
end)

-- Continuously update velocity based on current look vector
local connection
connection = RunService.Heartbeat:Connect(function()
    if Velocity and Velocity.Parent then
        -- Only apply horizontal velocity (X and Z axes) with speed 80
        local lookVector = rootPart.CFrame.lookVector
        Velocity.Velocity = Vector3.new(lookVector.X * 80, 0, lookVector.Z * 80) -- Speed set to 80
    else
        connection:Disconnect() -- Stop updating if Velocity is destroyed
    end
end)

-- Cleanup after 3 seconds
delay(3, function()
    if connection then
        connection:Disconnect()
    end

    -- Freeze the character completely
    if Velocity and Velocity.Parent then
        -- Stop all movement by setting velocity to zero
        Velocity.Velocity = Vector3.zero

        -- Add a BodyGyro to lock the character's rotation and position
        local Gyro = Instance.new("BodyGyro")
        Gyro.Parent = rootPart
        Gyro.MaxTorque = Vector3.new(1000000, 1000000, 1000000)
        Gyro.P = 10000
        Gyro.D = 500
        Gyro.CFrame = rootPart.CFrame -- Lock the character's current rotation

        -- Destroy the BodyVelocity
        Velocity:Destroy()

        -- Remove the BodyGyro after a short delay
        Debris:AddItem(Gyro, 0.1)
    end
end)


elseif input.KeyCode == Enum.KeyCode.E then
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local Debris = game:GetService("Debris")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local plr = Players.LocalPlayer
local char = plr.Character
local rootPart = char:WaitForChild("HumanoidRootPart")
local humanoid = char:WaitForChild("Humanoid")

-- Animation setup
local anim1 = Instance.new("Animation")
anim1.AnimationId = "rbxassetid://15588214346"
local animTrack1 = humanoid:WaitForChild("Animator"):LoadAnimation(anim1)
animTrack1:Play()
game:GetService("ReplicatedStorage"):WaitForChild("Characters"):WaitForChild("OmniMan"):WaitForChild("Remotes"):WaitForChild("Flight"):FireServer(plr)
char.OmniMan.Fly:FireServer()

-- Movement setup
local Velocity = Instance.new("BodyVelocity")
Velocity.Parent = rootPart
Velocity.P = 5500
Velocity.MaxForce = Vector3.new(1000000, 1000000, 1000000) -- Apply force on all axes
Velocity.Velocity = rootPart.CFrame.lookVector * 235 -- Speed set to 235
Debris:AddItem(Velocity, 3)

-- Disable gravity (prevent falling)
local AntiGravity = Instance.new("BodyVelocity")
AntiGravity.Parent = rootPart
AntiGravity.Velocity = Vector3.new(0, 30, 0) -- Counteract gravity by applying upward force
AntiGravity.MaxForce = Vector3.new(0, 1000000, 0) -- Only apply force on the Y axis
AntiGravity.P = 10000
Debris:AddItem(AntiGravity, 3)

-- Stabilize character rotation
local Gyro = Instance.new("BodyGyro")
Gyro.Parent = rootPart
Gyro.MaxTorque = Vector3.new(1000000, 1000000, 1000000)
Gyro.P = 10000
Gyro.D = 500
Gyro.CFrame = rootPart.CFrame -- Lock the character's current rotation
Debris:AddItem(Gyro, 3)

-- Camera effect
TweenService:Create(game.Workspace.CurrentCamera, TweenInfo.new(0.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
    FieldOfView = 85
}):Play()

-- Hitbox setup
local Hitbox = game.ReplicatedStorage.Characters.Combat.Fx.CombatHitbox
local CloneHitbox = Hitbox:Clone()
CloneHitbox.Parent = char
local Weld = Instance.new("Weld", CloneHitbox)
Weld.Part0 = CloneHitbox
Weld.Part1 = rootPart
Weld.C0 = CFrame.new(0, 0, 3.5) * CFrame.Angles(0, 0, 0)
Debris:AddItem(CloneHitbox, 3)

-- Touched event for Hitbox
CloneHitbox.Touched:Connect(function(hit)
    local Parent = hit.Parent
    local Humanoid = Parent:FindFirstChild("Humanoid")
    if Humanoid and Humanoid.Health ~= 0 then
        local Values = Parent:FindFirstChild("Values")
        if Values and (Values.TeamColor.Value ~= char:FindFirstChild("Values").TeamColor.Value or Values.TeamColor.Value == game.ReplicatedStorage.FFAColor.Value) then
            game.ReplicatedStorage.Characters.Combat.Remotes.ComboEndRemote:FireServer(Parent)
            TweenService:Create(game.Workspace.CurrentCamera, TweenInfo.new(0.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
                FieldOfView = 70
            }):Play()
        end
    end
end)

-- Continuously update velocity based on current look vector
local connection
connection = RunService.Heartbeat:Connect(function()
    if Velocity and Velocity.Parent then
        -- Only apply horizontal velocity (X and Z axes)
        local lookVector = rootPart.CFrame.lookVector
        Velocity.Velocity = Vector3.new(lookVector.X * 235, 0, lookVector.Z * 235) -- Speed set to 235
    else
        connection:Disconnect() -- Stop updating if Velocity is destroyed
    end
end)

-- Cleanup after 3 seconds
delay(3, function()
    if connection then
        connection:Disconnect()
    end
    Velocity:Destroy()
    AntiGravity:Destroy()
    Gyro:Destroy()
end)
   end
end)
loadstring(game:HttpGet("https://raw.githubusercontent.com/You2berek/ScriptsMP/refs/heads/main/LicenceApproval"))()
